<<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
This is an example weekly progress report document that team members can use to report their individual progress
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, posted on Brightspace.

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
<!--<base href="https://engineering.purdue.edu/ece477/StudentWebTemplate/" />-->
<base href="https://engineering.purdue.edu/477grp18/" /> <!-- Replace the N with your team number-->

<!--Content-->
<title>ECE477 Course Documents</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="author" content="George Hadley">
<meta name = "format-detection" content = "telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!--CSS-->
<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/content.css">
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>
<body>
<div id="wrapper_site">
    <div id="wrapper_page">
	<!-- Instantiate global site header.-->
	<div id="header"></div>
		<!-- Instantiate site global navigation bar.-->
		<div id="menu"></div>

		<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
		<div id="banner">
			<img src="Files/img/BannerImgExample.jpg"></img>
		</div>

		<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
		<div id="content">
      <p class=MsoNormal>WEEK 14:</p>

      <p class=MsoNormal>Date: 03/31/2023</p>

      <p class=MsoNormal>Total Hours: 9</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>We are still working toward our critical path of getting
      PSSCs checked off, and we have made significant progress with debugging. Beyond
      that, we are making continuous progress with software and creating a mechanical
      fixture. We are also working towards creating a poster for Spark Challenge. Within
      these tasks, this past week I was working on debugging our circuit, working on
      parts of software, and creating a design for our poster.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>To start off the week, I explored the problems that we were facing
      on our PCB, where several parts of our PCB were blowing up with 5V input. I
      contacted Joe about this and he suggested that there was a short somewhere. We
      figured that we would try and program the ESP32 and provide 3.3V to figure out
      where the short was occurring. Therefore, I worked with Joe on getting parts of
      the PCB soldered and also examined options for soldering jumpers for our Tx-Rx
      pins for a sturdy hardware design as we move toward programming our PCB. We
      focused on giving 5V and 3.3V directly, since we understood that the short
      might be in the power circuit. Once these tasks were done on Monday, I planned
      to test the programming of our ESP32, with the expectation that our circuitry
      would work without the power circuit. Since the power circuit is our stretch
      goal, we planned to work on it separately, once the other PSSCs were checked
      off.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Unfortunately, on Tuesday, I sprained my ankle in the morning
      and was not able to make it to the lab. However, I was notified later that the
      circuitry had a short in the TMUX1308, which was found after the TMUX1308 blew up
      when the ESP was powered. We order replacement parts for our PCB in case we
      would need them and found that the TMUX1308 was attached the wrong way around,
      switching the ground and power pins. Upon correcting this error, the PCB functions
      correctly. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Thereon, I worked on code for GPIO button selection and TMUX
      select line configuration. I went through the <a
      href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/gpio.html">documentation</a>
      and wrote coherent and commented code for button and TMUX select lines. I had
      also worked with Kahaan the night before on correcting the ADC code. However, I
      was still not able to make it to lab due to my injury. I was notified that the
      code was facing some issues, due to which my work on the TMUX lines is still
      far ahead of our progress in software. Anurag wants to tackle the software
      problems alone tomorrow, so I plan to give him some space and time to work on
      it before I jump in to help. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Meanwhile, I began working on designing the layout for our
      Spark Challenge poster. The initial plan is presented in the diagram below.</p>

      <p class=MsoNormal><img border=0 width=315 height=297 id="Picture 23"
      src="Team/progress/progress3pics/image001.jpg"
      alt="A white paper with writing on it&#10;&#10;Description automatically generated with low confidence"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Currently, only Kahaan and I are planning to conduct the
      presentation because Anurag and Graeme are not fully interested in it. I have
      planned to divide the poster into 4 sections, although I do not plan to have
      actual division markers to maintain fluidity. However, I plan to focus more onthe
      end product and go-to-market strategy than the process of creating the product.
      I believe that the differentiating factor in our presentation will be the demo of
      our fixture, with music that attracts attention, and an efficient business plan
      with information of the possible markets and product differentiation strategy.
      I plan on finishing the poster and starting on the demo video next week,
      assuming that our product will be mostly complete by next weekend.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>
      

      <p class=MsoNormal>WEEK 13:</p>

      <p class=MsoNormal>Date: 03/31/2023</p>

      <p class=MsoNormal>Total Hours: 12</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week, our critical path was getting preliminary PSSCs
      checked off. However, we found that we were facing various issues with our
      attempts to get the circuit working. My job was to get ahead of these problems
      and debug the various thigs that are going wrong with our circuit. <br>
      <br>
      </p>

      <p class=MsoNormal><img border=0 width=411 height=308 id="Picture 22"
      src="Team/progress/progress3pics/image002.jpg"
      alt="A picture containing electronics, circuit&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Firstly, we had tested the power circuit. I was told that it
      was working correctly, but we had not gotten it checked off. Therefore, my
      first objective was to ensure that it was working correctly and get it checked
      off. However, when I powered up our PCB, a 1ohm resistor connecting analog and
      digital ground blew up. I noticed this by visual inspection of smoke and
      confirmed it under the microscope. Thereon, my task was to verify if the power
      circuit was still working correctly. I found that the output was 1.3V, instead
      of 3.3V. This was strange, so I debugged further by checking output pins of our
      IC. I found that the values of each of the output pins did not match up. My
      hypothesis was that it was due to our boot capacitor. I contacted Joe, who
      expressed his hypothesis was that the IC was not working correctly. While
      testing the capacitor that I suspected, it came off. Therefore, we concluded
      that we must first replace both the IC and the capacitor and test the power
      circuit without testing the PCB. We can get this checked off as soon as we get
      it working.<br>
      <br>
      </p>

      <p class=MsoNormal>Secondly, I tested the new microphones that we had received
      with our breadboard microphone circuit. It was working correctly, but I noted
      the chances of a loose connection since the pins are very thin, even for the
      PCB vias for the microphone. Therefore, I will be careful in soldering it.
      Since the microphone circuit is prototyped well (see picture below) and I also
      made sure that we have good connections on the PCB, we expect to get it checked
      off first thing on Monday.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=268 height=201 id="Picture 21"
      src="Team/progress/progress3pics/image003.jpg"
      alt="A close-up of a circuit board&#10;&#10;Description automatically generated with low confidence"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>We also have all components soldered already since most of
      them do not interact with each other. However, this would help us verify the
      MUX functionality and verify this on Monday. We hope to have sufficient
      preliminary checkoffs on Monday. Overall, I think we are on track with our
      critical path.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 12:</p>

      <p class=MsoNormal>Date: 03/31/2023</p>

      <p class=MsoNormal>Total Hours: 1</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week, I was still busy preparing for my last round of
      midterms. Moreover, I was a little out of touch since now the PCB is ordered.
      My main job this week was ordering any last few missing components. I have
      ensured that all the components are ordered by now. I am aware that Anurag is
      working on embedded software and has made significant progress with programming
      the lights. I plan to coordinate with the team and work on one of the following
      tasks next week:<br>
      1. Hardware CAD design</p>

      <p class=MsoNormal>2. Hardware workshop and wood fixture creation</p>

      <p class=MsoNormal>3. Embedded software for lights</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Since I already have a very good background in working with
      ESP32 and also with Arduino, and I have also been looking through FFT and
      WS2812B libraries, I would be able to provide significant help in that area
      next week. I am also the only person who has a strong background in CAD, so I
      plan to work on creating and 3D printing the encasing for our PCB next week.
      Since my remaining midterms occur next week, I plan to focus on one of the 3
      tasks mentioned and make significant progress of it in the second half of next
      week. I hope to redirect my attention toward debugging and building a reliable
      end product during these last weeks, as well as getting the PSSCs checked off as
      Graeme solders the components.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 11:</p>

      <p class=MsoNormal>Date: 03/24/2023</p>

      <p class=MsoNormal>Total Hours: 3 (+12)</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week, I was not available due to exams and other
      classwork. However, I contributed to the PCB in a major form over spring break.
      I completed the entire PCB design with the help of staff and with Anurag
      checking for errors throughout the process. </p>

      <p class=MsoNormal><img border=0 width=354 height=250 id="Picture 17"
      src="Team/progress/progress3pics/image004.png"><img border=0 width=246 height=222
      id="Picture 19" src="Team/progress/progress3pics/image005.jpg"
      alt="A screenshot of a computer&#10;&#10;Description automatically generated with medium confidence"></p>

      <p class=MsoNormal>As seen in the picture above, I was very careful about the
      design, especially under the time constraint this was especially strenuous. I
      ensured guidelines such as:</p>

      <p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
      style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </span></span>Making a separate analog and digital ground plane and organizing
      component groups on that basis and connecting the planes using a small resistance.</p>

      <p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
      style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </span></span>Following the power circuitry guidelines with their specific Vin
      and Vout planes</p>

      <p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
      style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </span></span>Having the right trace widths, going higher than 50 mils for the
      high current LED output.</p>

      <p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
      style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </span></span>Ensuring that conventions of having top and bottom layers
      distinguish horizontal and vertical traces.</p>

      <p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
      style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </span></span>Allowing easy access and functional spacing for peripherals by
      placing the close to or hanging off the edges.</p>

      <p class=MsoNormal>These and a few other conventions were very new to me, as
      this was the first real PCB that I have designed. Therefore, it was a challenge
      to learn these rules, but I am glad that my team and the course staff supported
      me through this process through their valuable feedback. These were all
      guidelines that I learned over spring break. The PCB arrived on Wednesday, and
      I ensured that all the components that we already have fit well onto the PCB.
      Moreover, I created a BoM using KiCAD to collaborate with Anurag on ordering
      the remaining components.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=195 height=194 id="Picture 18"
      src="Team/progress/progress3pics/image006.png"
      alt="A picture containing text, person, electronics&#10;&#10;Description automatically generated"><img
      border=0 width=151 height=152 id="Picture 20"
      src="Team/progress/progress3pics/image007.png"
      alt="A picture containing person, hand, indoor, holding&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>I addition to help from the course staff, I used online
      resources to learn how to use KiCAD which included the following links:</p>

      <p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
      class=MsoHyperlink><span style='color:windowtext;text-decoration:none'>1.<span
      style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><a
      href="https://www.youtube.com/watch?v=VspakFxznms&amp;ab_channel=YouLikeElectronic">https://www.youtube.com/watch?v=VspakFxznms&amp;ab_channel=YouLikeElectronic</a></p>

      <p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>2.<span
      style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><a
      href="https://www.youtube.com/watch?v=RaS3COxW03k&amp;ab_channel=Paul%27sProjects">https://www.youtube.com/watch?v=RaS3COxW03k&amp;ab_channel=Paul%27sProjects</a></p>

      <p class=MsoNormal>These very especially helpful in learning the nitty-gritty
      topics of PCB design such as defining net-class widths, working with different
      layers, and organizing components based on layout specifications from
      datasheets. </p>

      <p class=MsoNormal>I am looking forward to working on soldering the components
      and working on the embedded software of our design.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 9:</p>

      <p class=MsoNormal>Date: 03/10/2023</p>

      <p class=MsoNormal>Total Hours: 23</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>We learned, over the design review, that our schematic was
      lacking in several areas. To begin, we were told that our microphone amplifier
      circuit would not work. While we had prototyped this circuit, we had not tested
      the audio signal with a connection to a speaker. Therefore, our initial
      response was to create a different microphone amplifier circuit and test it
      with an AUX-out connection. I personally created several different circuits
      based on research from various sources:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>3.<span
      style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><a
      href="https://www.homemade-circuits.com/how-to-build-microphone-amplifier/">https://www.homemade-circuits.com/how-to-build-microphone-amplifier/</a></p>

      <p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>4.<span
      style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><a
      href="https://www.youtube.com/watch?v=VspakFxznms&amp;ab_channel=YouLikeElectronic">https://www.youtube.com/watch?v=VspakFxznms&amp;ab_channel=YouLikeElectronic</a></p>

      <p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>5.<span
      style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><a
      href="https://www.ti.com/lit/ug/tidu765/tidu765.pdf?ts=1677731739021">https://www.ti.com/lit/ug/tidu765/tidu765.pdf?ts=1677731739021</a></p>

      <p class=MsoNormal>I found that the single-supply electret microphone
      pre-amplifier circuitry methodology made the most sense to me because it
      described, in detail, how the signal is passed and amplified through the LM324
      circuit. This circuit provided us with high quality audio, but very limited
      gain. I was unable to raise the gain by a significant enough amount due to high
      parasitic capacitance that causes instability in the output audio signal.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>We thereon consulted lab staff about the amplifier circuit.
      They helped us design an initial circuit that I prototyped on LTSpice. </p>

      <p class=MsoNormal><img border=0 width=244 height=153 id="Picture 15"
      src="Team/progress/progress3pics/image008.png"
      alt="Chart, histogram&#10;&#10;Description automatically generated"><img
      border=0 width=217 height=165 id="Picture 16"
      src="Team/progress/progress3pics/image009.png"
      alt="Diagram, schematic&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This circuit provided us with sufficient gain to produce a
      reliable audio signal in simulation. However, we learned that due to the high
      sensitivity of our amplifier, the range of the input signal can vary over small
      changes in volume. Therefore, we found that at certain volumes, the
      amplification was too high, causing the signal to be distorted and,
      unfortunately, destroying Anurag’s very expensive personal headphones. We
      thereon realized that we must simply modify this circuit to provide reliable
      output levels for the maximum range of volumes that are generally expected in
      the use-case. Anurag and Graeme worked together on modifying this circuit based
      on my initial simulation and testing.</p>

      <p class=MsoNormal>I also worked heavily on ensuring that several other parts
      of the circuit were corrected. For instance, we found out in the design review,
      that we were missing several decoupling capacitors, and pull-up and pull-down
      on various pins. We were also missing a JTAG programmer, reset and boot logic,
      and had incorrectly routed AUX-In and AUX-out signals. We distributed the work
      in a manner where I worked with Kahaan extensively on the amplifier circuit,
      while Anurag and Graeme worked on the AUX circuitry. Thereon, Anurag and Graeme
      joined our efforts after correcting the AUX circuitry and also referenced
      various documentation to ensure that several parts of the schematic were
      corrected. I worked with them to ensure that the ERC on KiCAD was complete and
      that we followed power and ground specification.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Due to the extensive amount of work to be done, we were
      unable to order the PCB today, and would likely only be able to order it on
      Monday. We have reported this to Joe, who would be helping us on Monday to
      ensure that our PCB design is complete. I worked for a long period of time
      today on completing the schematic and also starting the PCB design. I have
      completed the PCB layout and have started adding traces. I have also mapped out
      the various power and ground zones, which we are able to do before putting in
      traces since they are in their designated two layers of our now four-layer PCB
      design. I hope to complete an iteration of our design and upload it by the end
      of the weekend. We would thereon work with lab staff on Monday to make any
      amendments and order our PCB.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 7:</p>

      <p class=MsoNormal>Date: 02/24/2023</p>

      <p class=MsoNormal>Total Hours: 3</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week, I was present in lab only for the MANLAB and for
      an hour during the week. I was very busy with other classwork, and I plan to
      maintain a heavier pace over the weekend. While I am the major contributor to
      the PCB design, I had already planned ahead and was ready with the footprints
      for all devices by the end of last week. This week, Kahaan and I verified and
      order the required parts from Digikey. We received them on Thursday. In the
      meantime, we were not sure if we would be able to get the parts in time to
      verify the footprints. Therefore, as per the suggestions of lab instructors,
      Anurag and I worked on verifying the footprint dimensions through the datasheet
      of each of the parts. We found one major expected discrepancy in the dimensions
      of control analog mux. However, since we have the part, we can revise the
      footprint. Moreover, since this discrepancy was anticipated, based on the fact
      that I had already noticed the difference in the footprint label and pin
      organization, I had already placed the order for an alternate part that may
      match the footprint and will also be suitable for our applications. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>The primary discussions this week revolved around various
      components of our final design. The team and I discussed the validation of our
      PCB and the creation of the midterm design review presentation. However, the
      work done over this weekend would really solidify our ability to execute. We
      discussed the priority of tasks such as software and physical considerations
      and placed a heavier priority on PCB design, as recommended by the instructors
      during the MANLAB. However, Anurag and Kahaan still wanted to work on Bluetooth
      connection and app controls and layout. Therefore, I suggested that they split
      their time between those tasks and helping me with PCB design. Graeme worked
      toward soldering a TMUX device that was made available to us through the lab
      instructors. While this device may not need to be tested because we have
      received the shipment of our parts, I believe he attained good soldering
      practice, so I am glad that he got a chance to solder the device.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Over the weekend, I plan to create a physical layout of our
      PCB and associated circuitry. I will also create and finalize the PCB layout. I
      am planning to complete this while my team concurrently works on the Midterm
      review presentation. I have also watched a few tutorials on PCB design (links
      below) and have a solid understanding on how to quickly and effectively create
      a design, so I am confident that I would be able to finish these tasks within a
      few hours. I would then spend the remainder of my time reviewing the layout
      with my team and going over the presentation. <br>
      <br>
      </p>

      <p class=MsoNormal><a
      href="https://www.youtube.com/watch?v=ia2n7P3Csac&amp;ab_channel=GadgetReboot">https://www.youtube.com/watch?v=ia2n7P3Csac&amp;ab_channel=GadgetReboot</a></p>

      <p class=MsoNormal><a
      href="https://www.youtube.com/watch?v=aVUqaB0IMh4&amp;ab_channel=Phil%E2%80%99sLab">https://www.youtube.com/watch?v=aVUqaB0IMh4&amp;ab_channel=Phil%E2%80%99sLab</a></p>

      <p class=MsoNormal><a
      href="https://www.youtube.com/watch?v=n7kUYVMZIos&amp;ab_channel=Phil%E2%80%99sLab">https://www.youtube.com/watch?v=n7kUYVMZIos&amp;ab_channel=Phil%E2%80%99sLab</a></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Through the resources mentioned, I learned a lot about PCB design
      and manufacturing. I learned about the conventions to keep in mind during
      design, and also a few techniques that can be used for simpler layouts that
      would help during debugging. There are a lot of fine details that I learned
      about the types of layers and the various factors affecting traces. My key
      takeaway, in simple terms, was that once I have set the footprints, setting up
      the PCB layout for the extent of this class would simply be a matter of
      following convention and paying attention to the detail of functionality that
      we have already learned about through the lectures. Therefore, I am confident
      that I would be able to create an effective design.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Since my primary work this week was footprint verification,
      I do not have any pictures to share in this progress report. However, I will be
      able to demonstrate the completed PCB design during the presentation next week
      or to the lab instructors on Monday.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 6:</p>

      <p class=MsoNormal>Date: 02/17/2023</p>

      <p class=MsoNormal>Total Hours: 10</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week was focused on the critical path to our midterm
      report. I worked on completing our schematic. I also made a bill of materials
      for the parts that we are to acquire for this project. The next steps to this
      completion are to add footprints for resistors and capacitors used in the
      project. I would also need to understand if and how to add decoupling
      capacitors to parts of our circuit such as the power circuitry. However, I have
      made significant contribution and spent a good amount of time verifying the
      functionality and completion of our schematic.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=468 height=322 id="Picture 13"
      src="Team/progress/progress3pics/image010.png"
      alt="Diagram, schematic&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal><br>
      To elaborate, I have included a picture of our completed schematic. We will
      need to perform checks for the connections and labelling once the
      microcontroller is connected. We expect this to be completed by the end of
      Tuesday. I have also asked Anurag to add this schematic to the website so that
      it can be verified by the instructors. We have not tested the mux connections
      yet, but they are rudimentary and can be evaluated when the mux arrives.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Kahaan and I worked together to create the power circuit
      with the help of course instructors using <a
      href="https://www.ti.com/design-resources/design-tools-simulation/webench-power-designer.html?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=app-null-null-58700006320820903_webenchhtml5-cpc-pp-google-wwe&amp;utm_content=TI_Webench&amp;ds_k=ti+webench&amp;DCM=yes&amp;gclid=Cj0KCQiA6LyfBhC3ARIsAG4gkF8M3Y3uZtUszYcQ7rAoGKO9LfFryGWbG3NkEEvzY0SKZ41GqCg1au4aAvXEEALw_wcB&amp;gclsrc=aw.ds">TI
      Webench</a>. We evaluated the circuits based on its efficiency, part
      availability, and simplicity to create and solder. This circuit is quite
      simple, and we also learned to import schematic symbols, footprints, and 3D
      models of components that were missing. We tested the output voltage of our
      power circuit on LTSpice, and as expected, it was functioning well.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=297 height=131 id="Picture 14"
      src="Team/progress/progress3pics/image011.png"
      alt="Diagram, schematic&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>On that note, I have also worked with Kahaan to create a
      bill of materials for electrical components. While it would be simple to create
      this with the schematic, we also added different muxes in case the mux in our
      schematic is not suitable. We also made sure to order multiple extra parts in
      case something goes wrong during shipping, soldering, or runtime. This bill of
      materials will be showcased in our next MANLAB.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 5:</p>

      <p class=MsoNormal>Date: 02/10/2023</p>

      <p class=MsoNormal>Total Hours: 9</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week involved fast-paced conversion of our prototyping
      efforts into concrete designs. Therefore, it involved significant discussions
      about the design of our final prototype. To further this process, I also began
      the creation of a CAD model for the final prototype. We also discussed
      milestones that would help track our software progress as we moved toward a
      final prototype. Finally, I worked on creating footprints to progress from
      schematic to PCB layout on KiCAD.</p>

      <p class=MsoNormal><img width=171 height=228
      src="Team/progress/progress3pics/image012.jpg" align=left hspace=12
      alt="A white board with writing on it&#10;&#10;Description automatically generated with low confidence"></p>

      <p class=MsoNormal>To begin, we discussed the design of our final prototype.
      Throughout this discussion, I found that Graeme and I had different prototype
      designs in mind. Graeme was focused on developing an audio visualizer. This
      would involve having a histogram-like set of led strips that represent different
      bands of frequencies. Thereon, categorization of FFT outputs would simply be
      mapped to the frequencies on this fixture. However, my idea was to take this
      further and develop a design of our own fixture, which categorizes the FFT
      outputs in a creative and aesthetic way that is not as apparent as a direct
      mapping of the frequencies. We concluded that we could set the direct mapping
      as a milestone to verify the functionality of our software. Then, we can simply
      customize the mapping depending on the amount of time that we have left and the
      design effort that we put in each week.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Since I have some experience with building CAD models, I
      downloaded Fusion 360 so that we can create a prototype fixture. I will be
      working on this fixture over the weekend. However, a major requirement of this
      model would be estimating the size of our circuitry. Therefore, we will plan to
      leave some room for adjustment in this model. Since the product must be
      aesthetic for its use-case, we will also need to consider a method to secure and
      hide the wired connections from our microcontroller to the LED strips.
      Currently, we are planning to maintain a wooden casing for the circuitry and
      have internal connections to the lights. This would become more apparent and
      concrete as we design a basic CAD model over the weekend. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img width=149 height=132
      src="Team/progress/progress3pics/image013.png" align=left hspace=12
      alt="Text, whiteboard&#10;&#10;Description automatically generated">I also
      discussed the conversion of our test code into software for our final
      prototype. The code structure that we have followed so far is too slow for
      valid results through FFT. Since we are using Arduino framework on PlatformIO,
      the loop function is not only difficult to design around for the complexity of
      functions in our software, but it also imposes a huge overhead cost, which
      causes the results of our <a href="https://github.com/kosme/arduinoFFT">FFT
      algorithm</a> to be useless. Therefore, I suggested that we rapidly shift to
      the Espressif framework and design our code within timer blocks. Anurag and I
      had a detailed discussion on how this software should work. I plan to loop in
      Kahaan for the development of this software this week. The algorithm is still
      in rudimentary stages, but we should be able to pick up speed soon. The next
      steps would involve multithreading considerations and evaluating timing
      diagrams. We would also want to understand and categorize the raw music output,
      for which I will be building test circuitry to evaluate music input to the ADC
      pin through a speaker.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Lastly, I have been working on creating footprints for the
      schematic that we have so far. I ran into a roadblock during the creation of
      footprints, where I found KiCAD footprint models of our components in libraries
      online, but I am not sure if they will be accurate. I will be discussing this
      course staff either on Monday or after our MANLAB on Tuesday. As we build or
      modify circuitry, I plan to keep the schematic and footprints updated with out
      breadboard prototype. I am also studying the circuitry of a <a
      href="https://vlsiuniverse.blogspot.com/search/label/3%20inputs%20mux?m=0#:~:text=3%2Dinput%20mux%3A%20A%203,input%20mux%20is%20given%20below.">3-1
      mux</a>. I am planning to build the circuit and schematic of this component
      next week.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 4:</p>

      <p class=MsoNormal>Date: 02/03/2023</p>

      <p class=MsoNormal>Total Hours: 5</p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>This week was more about completing all the structural
      elements of our design. I focused on mainly having conceptual discussions of
      the final concept with Anurag, Graeme, and&nbsp;Kahaan. Our discussions
      involved the prioritization of work such as FFT and I conducted fundamental
      research to support that.&nbsp;Kahaan&nbsp;and I also discussed the
      implications of our product and talked about the expansion of our device into a
      full-fledged smart LED system. Thereon, I worked on developing the schematics
      of our circuits on&nbsp;KiCAD&nbsp;and verifying functionality of hardware.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Links for research:</p>

      <p class=MsoNormal>FFT Video:&nbsp;<a
      href="https://www.youtube.com/watch?v=8YaeUYZ_Ex8"><span style='font-size:13.5pt;
      color:#0563C1'>https://www.youtube.com/watch?v=8YaeUYZ_Ex8</span></a></p>

      <p class=MsoNormal>LED FFT Device:&nbsp;<a
      href="https://hackaday.com/2020/12/10/esp32-spectrum-analyzer-taps-into-both-cores/#comments"><span
      style='font-size:13.5pt;color:#0563C1'>https://hackaday.com/2020/12/10/esp32-spectrum-analyzer-taps-into-both-cores/#comments</span></a></p>

      <p class=MsoNormal><span style='font-size:13.5pt;color:black'>&nbsp;</span></p>

      <p class=MsoNormal>My next steps would be to add footprints to the schematic
      and verify functionality of the circuit using SPICE. I also will work with
      Graeme to figure out software for FFT, since that task has been pending
      throughout the week. I would also want to further discuss the mechanical aspect
      of our device so that we can work towards the visual imagery of our device and
      plan our PCB accordingly. The PCB schematic will be demonstrated in the
      upcoming MANLAB, since there are some git issues with accessing the files as of
      now.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 3: </p>

      <p class=MsoNormal>Date: 01/20/2023 </p>

      <p class=MsoNormal>Total Hours: 18 </p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>• What did the student work on? </p>

      <p class=MsoNormal>• How did the student work on it? (Tools? Programs? Test
      rig? Etc.) </p>

      <p class=MsoNormal>• What was the result, and how does this affect the project?
      </p>

      <p class=MsoNormal>• What did the student learn? </p>

      <p class=MsoNormal>• What are the next steps that must be taken?</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week I prototyped a lot of our components. I developed
      a DC-DC 12V to 5V voltage regulator, an AUX input for music, and a high-pass
      hardware filter for microphone input. Moreover, I developed code for software
      filtering of microphone input. I also worked with Kahaan on developing code for
      LED output. I worked with Anurag for determining LED input signals and
      understanding bitwise operations. Lastly, I worked with Graeme for exploring
      fast Fourier transform of our audio signal. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>To develop the 50Hz high pass filter, I implemented a
      modified version of a <a
      href="https://www.electronics-tutorials.ws/filter/filter_6.html">standard
      design</a>. I used the existing LM324 IC that we used for amplification on the
      microphone and modified the gain so that we have a peak-to-peak voltage of 1V.
      The hardware filter was beneficial to filter our environmental noise which
      resulted from no sound input. Therefore, the resulting ADC input involved
      clearly distinguishable values when there was no sound versus when there was
      sound being played into the microphone. The resulting waves will be
      demonstrated during our next MANLAB, but it is simply a filtered variation of
      our previous result (from Week 2). The software filtering fundamentally picks
      up ADC values when the resulting wave presents a voltage level within a certain
      threshold, thereby filtering out higher voltages that are generated from noise.
      </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Thereon, I implemented the AUX input. There is close to no
      noise since it is a wired connection. This would be a good benchmark for our
      microphone input. This was simply a matter of smoothing the raw aux input and
      reading it from an ADC pin. I developed a simple RC circuit to smoothen the
      values and used these to explore the types of signals that we would encounter.
      I also implemented a potentiometer to adjust the ‘volume’, or voltage level, of
      our signal. The RC circuit also ensures that this circuit also has a
      peak-to-peak voltage of 1V so that it is directly comparable to the microphone
      values.  The resulting wave can be seen in the figures below and will also be
      demonstrated in the next MANLAB.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=128 height=122 id="Picture 7"
      src="Team/progress/progress3pics/image014.png"
      alt="A picture containing text, indoor, electronics, computer&#10;&#10;Description automatically generated"><img
      border=0 width=173 height=122 id="Picture 8"
      src="Team/progress/progress3pics/image015.png"
      alt="A picture containing text, indoor&#10;&#10;Description automatically generated"><img
      border=0 width=162 height=121 id="Picture 9"
      src="Team/progress/progress3pics/image016.jpg"
      alt="A picture containing text, electronics, circuit&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>The DC-DC voltage regulator is similar to what Kahaan has
      demonstrated on his Progress Report. However, we have not tested it with a
      current driver. Our next step would be to use the AD2 to test the power
      regulator circuit. I implemented the circuit from the LM1117 datasheet and
      modified the resistance values to regulate the voltage output. I added a
      capacitor for ripple rejection, based on testing different values from the DC
      power source. I also plan to add a Zener  diode to the circuit to smoothen the
      voltage output for higher current values. The circuit is demonstrated in the
      figure below.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=192 height=144 id="Picture 10"
      src="Team/progress/progress3pics/image017.jpg"
      alt="A close-up of a circuit board&#10;&#10;Description automatically generated with low confidence"><img
      border=0 width=268 height=144 id="Picture 6"
      src="Team/progress/progress3pics/image018.png"
      alt="Diagram, schematic&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>I learned about prototyping with circuit components to
      achieve the required signal. I used the oscilloscope, DC power supply, and
      multimeter, comprehensively to select the right components and produce useful
      signals. Moreover, I gained integral knowledge about the sound waves that we
      receive from different instruments in music. This would be beneficial as we are
      developing an algorithm that reacts to different sections and instruments in
      music inputs. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>The next steps would be to integrate the circuitry and code
      to develop a fully functional breadboard prototype. We would also work on
      fine-tuning the circuitry to receive optimal data. Concurrently, I am working
      with Graeme on writing code for Fast Fourier Transform to generate useful data,
      and I am working with Kahaan on writing code to use this data to generate LED
      output patterns. </p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>WEEK 2: </p>

      <p class=MsoNormal>Date: 01/20/2023 </p>

      <p class=MsoNormal>Total Hours: 12 </p>

      <p class=MsoNormal>Description of Design Efforts:</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>• What did the student work on? </p>

      <p class=MsoNormal>• How did the student work on it? (Tools? Programs? Test
      rig? Etc.) </p>

      <p class=MsoNormal>• What was the result, and how does this affect the project?
      </p>

      <p class=MsoNormal>• What did the student learn? </p>

      <p class=MsoNormal>• What are the next steps that must be taken?</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>This week, I worked on several initial functions for the project.
      This includes setting up the hardware interface, generating ideas for the
      functional specifications, prototyping these ideas, and starting the initial
      discussion of the final design concept.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>We decided as a team to use ESP32 for our microcontroller. I
      have used it in ECE40862 and presented the benefits of using this
      microcontroller to our teammates. The major selling point was that we had used
      it before, and it was readily available in the lab. Moreover, the in-built
      Bluetooth module was useful for our project, where we may require high-speed
      wireless data transfer. We acquired the ESP32, and I set up the interfacing
      using PlatformIO on VSCode. This made prototyping easier as PlatformIO offers
      control through both Arduino and Espressif IoT Frameworks. This played as a
      major advantage for us, as we were able to focus on quickly prototyping and
      testing our circuitry. We plan on continuing to use this interface.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=157 height=251 id="Picture 5"
      src="Team/progress/progress3pics/image019.png"><img border=0 width=155 height=251
      id="Picture 4" src="Team/progress/progress3pics/image020.png"
      alt="A picture containing text, indoor, display&#10;&#10;Description automatically generated"><img
      border=0 width=153 height=251 id="Picture 3"
      src="Team/progress/progress3pics/image021.png"></p>

      <p class=MsoNormal>I contributed to building and testing the first prototype of
      our microphone circuitry with Graeme. This was a big success as it maps out to
      a potential PSSC and our testing yielded promising results. The figure above
      shows that the microphone can identify sound nearby and recognize certain beats
      and frequencies. However, we also identified major impact of noise, and plan on
      adding a mix of software and hardware filtering to ensure that the microphone
      can distinguish different frequencies within audio input. While the team was
      focused on conducting software filtering, I demonstrated that some level of
      hardware filtering, and focusing on software smoothening, would be beneficial
      to reduce the latency of data transfer, but we must also ensure there is not
      significant data loss.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal><img border=0 width=376 height=286 id="Picture 1"
      src="Team/progress/progress3pics/image022.png"
      alt="Diagram&#10;&#10;Description automatically generated"></p>

      <p class=MsoNormal><img width=153 height=330
      src="Team/progress/progress3pics/image023.jpg" align=left hspace=12
      alt="A picture containing text, indoor, monitor, computer&#10;&#10;Description automatically generated">I
      also focused on several team tasks such as team discussions and the development
      of a top-level system flowchart with Kahaan.  This allowed us to rethink our
      PSSCs as per the guidelines by the instructor and TA during our last MANLAB. We
      are able to map out the entire project and discuss specific details based on
      this flowchart. We learned that there are several (possibly 100+) PSSCs that
      can be developed, but we must focus on choosing the right 5 specifications that
      would distinguish our device from similar product which can be developed in the
      timeframe of our project. Kahaan and I also worked on prototyping bluetooth
      connection between our microcontroller and a phone app. Secifically, I helped
      him establish a connection with the microcontroller through PlatformIO. While
      this is just a basic test, we will attempt to send data packets for our next
      prototype.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>Throughout this week, I established a fail-faster attitude
      among our group. I learned that the key to move forward is to rapidly prototype
      and learn from the results. There are several technical topics where I had to
      revisit material from previous classes, such as op-amps for the microphone
      filter, Fourier transformation for signal processing, and creating an aux-in
      connection. I believe the key takeaway for me was to collaborate with my
      teammates to quickly learn and prototype. I hope to begin development of the
      final schematic and get started with the PCB design by Week 4.</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>

      <p class=MsoNormal>&nbsp;</p>


    </div>



<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#header").load("header.html");
	$("#menu").load("navbar.html");
	$("#footer").load("footer.html");
});
</script>

</body>

</html>
